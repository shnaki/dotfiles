style -name commandline-ime chrome://* #liberator-commandline-command input {ime-mode: inactive;}

" カラースキーマの読み込み
:colorscheme abyss

" ブラウザタイトルの変更
" Firefox デフォルトは 「Mozilla - Firefox」、vimperatorを入れると「vimperator」
set titlestring=Firefox
" 「:javascript! 」で表示される内容レベル
set verbose=9
" 補完のタイプ
set wildmode=list:full

" ビープ音を無効化
set visualbell
hi Bell display: none;

" ヒントを文字に変更
set hintchars=ifjklasdhguonmerwc

" ハイライトのエラー対策
set nohls

" 選択文字列のコピーを <C-c> に割り当て
map <C-c> :echo Yank!<CR>Y

" j/k でのスクロール幅を 1行 から 5行 に変更
nnoremap j 5<C-e>
nnoremap k 5<C-y>

" Shift + ← → で現在のタブの位置変更
map <S-Right> :tabmove! +1<CR>
map <S-Left>  :tabmove! -1<CR>

" 読み込んだ事を出力
echo .vimperatorrc sourced

" [[,]]で進む戻る強化
set nextpattern=\bnext\b,\bmore\b,^next$,^次(の)?ページ,\b次.*,^次へ$,→\b,^>$,^(>>|≫)$,^(>|≫),(>|≫)$
set previouspattern=\bprev|previous\b,^prev$,^前(の)?ページ,\b前.*,^前へ$,\b←,^<$,^(<<|≪)$,^(<|≪),(<|≪)$

" デフォルト検索エンジンの設定
set defsearch=google

" 検索のブックマーク補完
com! -complete=bookmark -nargs=+ ob :o <args>
com! -complete=history -nargs=+ oh :o <args>
com! -complete=search -nargs=+ os :o <args>
" それらのブックマーク
map ,b :ob
map ,s :os
map ,f :of

" bookmarkをbで開けるようにする
map b :bmarks!<Space>

" qmarks
qmark b https://bitbucket.org/
qmark d https://drive.google.com/drive/my-drive
qmark g https://github.com/
qmark k https://keep.google.com/u/0/#home
qmark t https://twitter.com/
qmark q http://qiita.com/
qmark w http://ejje.weblio.jp/
qmark y https://trackings.post.japanpost.jp/delivery/deli/

" 補完で<C-n><C-p>利用
cmap <C-n> <Tab>
cmap <C-p> <S-Tab>

" プラグイン管理
source ~/vimperator/vimppm/vimppm/plugin/vimppm.js

" Github にあるプラグイン
vimppm 'cd01/evernote-clearly-vimp'

" Vimpr にあるプラグイン
vimppm '_libly.js'
vimppm 'copy.js'
vimppm 'caret-hint.js'

" プラグイン設定"

" copy.js
javascript <<EOM
    liberator.globalVariables.copy_templates = [
        {label: 'anchor', value: '<a href=\"%URL\">%TITLE%</a>'},
        {label: 'hamlAnchor', value: '%a{href: \"%URL%\"} %TITLE%'},
        {label: 'slimAnchor', value: 'a(href=\"%URL%\") | %TITLE%'},
        {label: 'jadeAnchor', value: 'a(href=\"%URL%\")%TITLE%'},
        {label: 'htmlblockquote', value: '<blockquote cite=\"%URL%\" title=\"%TITLE%\">%HTMLSEL%</blockquote>'},
        {label: 'selanchor', value: '<a href=\"%URL%\" title=\"%TITLE%\">%SEL%</a>'},
        {label: 'title', value: '%TITLE%'},
        {label: 'titleAndUrl', value: '%TITLE%\n%URL%'},
        {label: 'markdown', value: '[%TITLE%](%URL%)'},
        {label: 'ASIN', value: 'copy ASIN code from Amazon', custom: function(){return content.document.getElementById('ASIN').value;}},
        {label: 'amazon', value: 'copy clean amazon url from current page',
          custom: function() {
            var m = content.document.location.pathname.match(/dp\/(\d+)/);
            return m ? ('http://amazon.jp/dp/' + m[1]) : null;
          }
        },
        {label: 'reference', value: '「%TITLE%」＜%URL%＞ (参照: 2017.04.01)'}
    ];
EOM

